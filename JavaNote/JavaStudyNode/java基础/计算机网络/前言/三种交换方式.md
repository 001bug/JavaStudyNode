路由器: 路由器是实现**分组交换**(packet swiching)的关键构件, 其任务是转发收到的分组, 这是网络核心部分最重要的功能

**电路交换**
1. 电话交换机接通电话线的方式称为电路交换
2. 从通信资源的分配角度来看, 交换(Switching)就是按照某种方式动态地分配传输线路的资源;
3. 电路交换的三个步骤
	 1.建立连接(分配通信资源)
	 2.通话(一直占用通信资源)
	 3.释放链接(归还通信资源)
![[Pasted image 20240315134305.png]]

**分组交换(Packet Switching)**
![[Pasted image 20240315134530.png]]

*分组交换的相关概念*
1/报文:通常我们把表示该信息的整块数据成为一个报文 , 在计算机网络中, 报文的发送要先把报文划分为一个个小的等长数据段 , [再加上一些必要的控制信息] , 就
构成一个分组, 也称为"包"

2.报文和分组的区别(在大小和结构方面)
- 分组（Packet）通常是网络中传输的基本单位，它们被划分成固定大小的数据包，具有特定的结构，通常包含标头（Header）和数据（Payload）两部分。数据包的大小在不同的网络技术中可以有所不同，例如在以太网中，常见的数据包大小为 1500 字节。
- 报文（Message）是网络中传输的更高层次的数据单位，通常表示应用层（Application Layer）的数据单元，例如 HTTP 请求或响应、电子邮件、文件传输等。报文的大小可以根据应用程序的需要而变化，通常没有固定的大小限制。

3.发送方:
	构造分组
	发送分组

4.路由器:
	缓存分组
	转发分组
	简称为“分组转发”
	路由器把收到的分组先放入缓存(暂时存储), 然后查找转发表, 找出到某个目的地址应从哪个端口转发, 最后把分组送到合适的端口转发出去

5.接受方:
	接收分组
	还原报文


**报文交换**
定义:它将数据划分成多个数据单元（通常称为报文或消息），每个数据单元都带有地址信息。这些数据单元按照源地址和目标地址的信息在网络中进行传输，通过一系列中间节点（例如路由器、交换机等）进行转发，最终到达目标地址。


**三种交换方式的对比**
假设A，B，C，D是分组传输路径所要经过的4个结点交换机，纵坐标为时间
分![[Pasted image 20240317200902.png]]
1. 电路交换
	 通信前要建立连接 , 用已建好的链路进行数据传送; 最后要释放连接, 归还通信资源
	 特点: 一旦建立连接, 中间的各结点交换机是直通形式的, 比特流可以直达终点, 通信速度极快
2. 报文交换
	 1.可以随时发送报文,不需要建立连接,整个报文先传送到相邻结点交换机，全部存储下来后进行[查表转发]，转发到下一个结点交换机。
	 2.报文要在各结点交换机上进行存储转发, 报文大小没有限制, 各结点交换机需要较大的缓存空间, 所以被[分组交换]所代替
3. 分组交换
	 1.也可以随时发送分组,不需要先建立连接 , 分组会在各结点交换机上[存储转发]
	 2.分组在结点交换机上存储转发的形式 , 相比报文交换, 减少了转发时延, 还可以避免过长的报文长时间占用链路
	 ![[Pasted image 20240317202440.png]]
	 